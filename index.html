<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Haoyang Wu</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;1,400&family=DM+Mono:wght@300;400&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg: #f7f5f0;
      --fg: #1a1916;
      --accent: #2a4858;
      --muted: #6b6760;
      --border: #ddd9d0;
      --card: #ffffff;
      --highlight: #e8f0f4;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'EB Garamond', Georgia, serif;
      background: var(--bg);
      color: var(--fg);
      font-size: 18px;
      line-height: 1.7;
      min-height: 100vh;
    }

    /* ── NAV ── */
    nav {
      position: fixed;
      top: 0; left: 0; right: 0;
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.2rem 4rem;
      background: rgba(247,245,240,0.92);
      backdrop-filter: blur(8px);
      border-bottom: 1px solid var(--border);
    }

    .nav-logo {
      font-family: 'DM Mono', monospace;
      font-size: 0.85rem;
      font-weight: 300;
      letter-spacing: 0.12em;
      color: var(--accent);
      text-transform: uppercase;
      text-decoration: none;
    }

    .nav-links {
      display: flex;
      gap: 2.5rem;
      list-style: none;
    }

    .nav-links a {
      font-family: 'DM Mono', monospace;
      font-size: 0.78rem;
      font-weight: 300;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--muted);
      text-decoration: none;
      transition: color 0.2s;
      cursor: pointer;
    }

    .nav-links a:hover,
    .nav-links a.active {
      color: var(--accent);
    }

    /* ── PAGES ── */
    .page {
      display: none;
      min-height: 100vh;
      padding-top: 5rem;
    }
    .page.active { display: block; }

    /* ── HOME ── */
    #home {
      display: none;
      align-items: center;
      justify-content: center;
    }
    #home.active {
      display: flex;
    }

    .home-inner {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 6rem;
      max-width: 1100px;
      width: 100%;
      padding: 4rem;
      align-items: center;
    }

    .home-photo-wrap {
      position: relative;
    }

    .home-photo {
      width: 100%;
      max-width: 380px;
      aspect-ratio: 3/4;
      object-fit: cover;
      display: block;
      border: 1px solid var(--border);
      filter: grayscale(15%);
    }

    .photo-placeholder {
      width: 100%;
      max-width: 380px;
      aspect-ratio: 3/4;
      background: linear-gradient(135deg, #e8e4dc 0%, #d4cfc6 100%);
      border: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      color: var(--muted);
    }

    .photo-placeholder span {
      font-family: 'DM Mono', monospace;
      font-size: 0.7rem;
      letter-spacing: 0.1em;
      text-transform: uppercase;
    }

    .photo-placeholder svg {
      opacity: 0.4;
    }

    .home-text {}

    .home-label {
      font-family: 'DM Mono', monospace;
      font-size: 0.72rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 1rem;
    }

    h1.home-name {
      font-size: 3.2rem;
      font-weight: 400;
      line-height: 1.15;
      letter-spacing: -0.01em;
      margin-bottom: 0.3rem;
      color: var(--fg);
    }

    .home-title {
      font-family: 'DM Mono', monospace;
      font-size: 0.8rem;
      font-weight: 300;
      letter-spacing: 0.08em;
      color: var(--muted);
      margin-bottom: 2rem;
      border-left: 2px solid var(--accent);
      padding-left: 1rem;
    }

    .home-bio {
      color: var(--muted);
      font-size: 1rem;
      line-height: 1.8;
      margin-bottom: 2rem;
    }

    .home-links {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .btn {
      font-family: 'DM Mono', monospace;
      font-size: 0.72rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      padding: 0.65rem 1.4rem;
      border: 1px solid var(--accent);
      color: var(--accent);
      background: transparent;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      text-decoration: none;
      display: inline-block;
    }
    .btn:hover, .btn.filled {
      background: var(--accent);
      color: #fff;
    }

    .home-meta {
      display: flex;
      gap: 2.5rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }

    .home-meta-block {
      flex: 1;
      min-width: 160px;
    }

    .home-meta-label {
      font-family: 'DM Mono', monospace;
      font-size: 0.68rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 0.6rem;
      padding-bottom: 0.4rem;
      border-bottom: 1px solid var(--border);
    }

    .home-meta-list {
      list-style: none;
      padding: 0;
    }

    .home-meta-list li {
      font-size: 0.88rem;
      color: var(--muted);
      line-height: 1.9;
    }

    .home-meta-list li::before {
      content: '—';
      margin-right: 0.45rem;
      color: var(--accent);
      font-family: 'DM Mono', monospace;
      font-size: 0.75rem;
    }

    .home-meta-text {
      font-size: 0.88rem;
      color: var(--muted);
      line-height: 1.8;
    }

    .contact-icons {
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
      margin-top: 0.2rem;
    }

    .contact-icon {
      display: flex;
      align-items: center;
      gap: 0.55rem;
      color: var(--muted);
      text-decoration: none;
      font-size: 0.88rem;
      line-height: 1;
      transition: color 0.2s;
    }

    .contact-icon:hover { color: var(--accent); }
    .contact-icon svg { flex-shrink: 0; }

    /* ── EXPERIENCE ── */
    #experience { max-width: 820px; margin: 0 auto; padding: 5rem 2rem 4rem; }

    .section-header {
      margin-bottom: 3rem;
      border-bottom: 1px solid var(--border);
      padding-bottom: 1.5rem;
    }

    .section-label {
      font-family: 'DM Mono', monospace;
      font-size: 0.7rem;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 0.5rem;
    }

    .section-title {
      font-size: 2.2rem;
      font-weight: 400;
      letter-spacing: -0.01em;
    }

    .timeline { position: relative; }

    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0.4rem;
      bottom: 0;
      width: 1px;
      background: var(--border);
    }

    .tl-item {
      padding-left: 2.5rem;
      margin-bottom: 3rem;
      position: relative;
    }

    .tl-item::before {
      content: '';
      position: absolute;
      left: -3px;
      top: 0.55rem;
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: var(--accent);
    }

    .tl-date {
      font-family: 'DM Mono', monospace;
      font-size: 0.72rem;
      letter-spacing: 0.1em;
      color: var(--muted);
      margin-bottom: 0.3rem;
    }

    .tl-role {
      font-size: 1.2rem;
      font-weight: 500;
      margin-bottom: 0.15rem;
    }

    .tl-org {
      font-style: italic;
      color: var(--accent);
      font-size: 1rem;
      margin-bottom: 0.6rem;
    }

    .tl-desc {
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.75;
    }

    .tl-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.8rem;
    }

    .tag {
      font-family: 'DM Mono', monospace;
      font-size: 0.65rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      padding: 0.2rem 0.6rem;
      border: 1px solid var(--border);
      color: var(--muted);
      background: var(--card);
    }

    /* ── ABOUT ME ── */
    #about { max-width: 1100px; margin: 0 auto; padding: 5rem 4rem 4rem; }

    .about-grid {
      display: grid;
      grid-template-columns: 1fr 1.4fr;
      gap: 4rem;
      align-items: start;
    }

    .about-grid-single {
      display: block;
    }

    .about-grid-single .bot-wrap {
      width: 100%;
    }

    .about-info h3 {
      font-size: 1rem;
      font-weight: 500;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border);
    }

    .about-info p, .about-info li {
      color: var(--muted);
      font-size: 0.95rem;
      line-height: 1.8;
      margin-bottom: 0.3rem;
    }

    .about-info ul { list-style: none; }

    .about-info ul li::before {
      content: '—';
      margin-right: 0.5rem;
      color: var(--accent);
      font-family: 'DM Mono', monospace;
      font-size: 0.8rem;
    }

    .about-info .info-block { margin-bottom: 2rem; }

    /* ── BOT ── */
    .bot-wrap {
      display: flex;
      flex-direction: column;
    }

    .bot-header {
      margin-bottom: 1.2rem;
    }

    .bot-header h3 {
      font-size: 1.2rem;
      font-weight: 400;
      margin-bottom: 0.3rem;
    }

    .bot-header p {
      font-family: 'DM Mono', monospace;
      font-size: 0.72rem;
      color: var(--muted);
      letter-spacing: 0.05em;
    }

    /* API KEY INPUT */
    .api-key-section {
      margin-bottom: 1rem;
      padding: 0.8rem 1rem;
      background: var(--highlight);
      border: 1px solid var(--border);
      border-left: 3px solid var(--accent);
    }

    .api-key-section label {
      font-family: 'DM Mono', monospace;
      font-size: 0.65rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: var(--muted);
      display: block;
      margin-bottom: 0.4rem;
    }

    .api-key-row {
      display: flex;
      gap: 0.5rem;
    }

    .api-key-row input {
      flex: 1;
      font-family: 'DM Mono', monospace;
      font-size: 0.78rem;
      padding: 0.45rem 0.7rem;
      border: 1px solid var(--border);
      background: var(--card);
      color: var(--fg);
      outline: none;
    }

    .api-key-row input:focus { border-color: var(--accent); }

    .api-key-row button {
      font-family: 'DM Mono', monospace;
      font-size: 0.65rem;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      padding: 0.45rem 0.9rem;
      background: var(--accent);
      color: #fff;
      border: none;
      cursor: pointer;
    }

    .key-note {
      font-family: 'DM Mono', monospace;
      font-size: 0.62rem;
      color: var(--muted);
      margin-top: 0.4rem;
    }

    /* CHAT — Claude/ChatGPT style */
    .chat-box {
      display: flex;
      flex-direction: column;
      height: clamp(420px, 62vh, 680px);
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 2rem 0;
      display: flex;
      flex-direction: column;
      gap: 0;
      scroll-behavior: smooth;
    }

    .chat-messages::-webkit-scrollbar { width: 4px; }
    .chat-messages::-webkit-scrollbar-track { background: transparent; }
    .chat-messages::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

    .msg {
      width: 100%;
      padding: 0.9rem 2rem;
      font-size: 0.95rem;
      line-height: 1.75;
      animation: fadeUp 0.2s ease;
      display: flex;
      gap: 1rem;
      align-items: flex-start;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(4px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .msg-avatar {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'DM Mono', monospace;
      font-size: 0.65rem;
      font-weight: 400;
      letter-spacing: 0.05em;
      margin-top: 0.1rem;
    }

    .msg-content {
      flex: 1;
      color: var(--fg);
    }

    .msg.user {
      background: transparent;
    }

    .msg.user .msg-avatar {
      background: var(--accent);
      color: #fff;
    }

    .msg.assistant {
      background: var(--card);
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
    }

    .msg.assistant .msg-avatar {
      background: var(--fg);
      color: var(--bg);
    }

    .msg.system-msg {
      justify-content: center;
      background: transparent;
      padding: 0.5rem 2rem;
    }

    .msg.system-msg .msg-content {
      color: var(--muted);
      font-family: 'DM Mono', monospace;
      font-size: 0.68rem;
      letter-spacing: 0.06em;
      text-align: center;
      flex: none;
    }

    .typing-indicator {
      width: 100%;
      padding: 0.9rem 2rem;
      background: var(--card);
      border-top: 1px solid var(--border);
      border-bottom: 1px solid var(--border);
      display: flex;
      gap: 1rem;
      align-items: center;
      animation: fadeUp 0.2s ease;
    }

    .typing-dots {
      display: flex;
      gap: 4px;
      align-items: center;
      padding-top: 0.1rem;
    }

    .typing-indicator span {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--muted);
      animation: bounce 1.2s infinite;
    }
    .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
    .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }

    @keyframes bounce {
      0%, 60%, 100% { transform: translateY(0); opacity: 0.4; }
      30% { transform: translateY(-5px); opacity: 1; }
    }

    /* Input area */
    .chat-input-wrap {
      padding: 1rem 1.5rem 1.2rem;
      background: var(--bg);
      border-top: 1px solid var(--border);
    }

    .chat-input-inner {
      display: flex;
      align-items: flex-end;
      gap: 0.6rem;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 0.6rem 0.6rem 0.6rem 1.1rem;
      transition: border-color 0.2s;
    }

    .chat-input-inner:focus-within {
      border-color: var(--accent);
    }

    .chat-input-inner input {
      flex: 1;
      border: none;
      outline: none;
      background: transparent;
      font-family: 'EB Garamond', serif;
      font-size: 1rem;
      color: var(--fg);
      padding: 0.25rem 0;
      resize: none;
      line-height: 1.5;
    }

    .chat-input-inner input::placeholder {
      color: var(--muted);
    }

    .chat-send-btn {
      width: 32px;
      height: 32px;
      border-radius: 7px;
      background: var(--accent);
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: opacity 0.2s, background 0.2s;
    }

    .chat-send-btn:hover { opacity: 0.85; }
    .chat-send-btn:disabled { opacity: 0.3; cursor: not-allowed; }
    .chat-send-btn svg { display: block; }

    .suggested-questions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 0.75rem;
    }

    .sq {
      font-family: 'DM Mono', monospace;
      font-size: 0.65rem;
      letter-spacing: 0.06em;
      padding: 0.4rem 0.8rem;
      border: 1px solid var(--border);
      border-radius: 20px;
      background: var(--card);
      color: var(--muted);
      cursor: pointer;
      transition: all 0.15s;
    }
    .sq:hover {
      border-color: var(--accent);
      color: var(--accent);
      background: var(--highlight);
    }

    /* ── FOOTER ── */
    footer {
      text-align: center;
      padding: 2rem;
      font-family: 'DM Mono', monospace;
      font-size: 0.68rem;
      letter-spacing: 0.1em;
      color: var(--muted);
      border-top: 1px solid var(--border);
      margin-top: 3rem;
    }

    /* ── RESPONSIVE ── */
    @media (max-width: 768px) {
      nav { padding: 1rem 1.5rem; }
      .home-inner { grid-template-columns: 1fr; gap: 2rem; padding: 2rem; }
      .photo-placeholder { max-width: 100%; }
      h1.home-name { font-size: 2.4rem; }
      .about-grid { grid-template-columns: 1fr; gap: 2rem; }
      #experience, #about { padding: 5rem 1.5rem 3rem; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <a class="nav-logo" id="nav-logo" style="cursor:pointer">H. Wu</a>
  <ul class="nav-links">
    <li><a class="active" id="nav-home" style="cursor:pointer">Home</a></li>
    <li><a id="nav-experience" style="cursor:pointer">Experience</a></li>
    <li><a id="nav-about" style="cursor:pointer">About Me</a></li>
  </ul>
</nav>

<!-- ══ HOME ══ -->
<section class="page active" id="home">
  <div class="home-inner">
    <div class="home-photo-wrap">
      <img class="home-photo" src="assets/photo.jpg" alt="Haoyang Wu">
    </div>
    <div class="home-text">
      <h1 class="home-name">Haoyang Wu</h1>
      <p class="home-bio">
        I am currently pursuing an MPhil in Machine Learning and Machine Intelligence at the University of Cambridge. I work at the intersection of human–computer interaction, machine learning, and immersive technologies. My research explores how AI-driven intelligent systems can be embedded into everyday environments to enable natural human interaction.
      </p>

      <div class="home-meta">
        <div class="home-meta-block">
          <p class="home-meta-label">Research Interests</p>
          <ul class="home-meta-list">
            <li>Human-Computer Interaction</li>
            <li>Machine Learning</li>
            <li>Artificial Intelligence</li>
            <li>Virtual &amp; Mixed Reality</li>
            <li>Internet of Things</li>
          </ul>
        </div>
        <div class="home-meta-block">
          <p class="home-meta-label">Contact</p>
          <div class="contact-icons">
            <a href="mailto:hw719@cam.ac.uk" title="hw719@cam.ac.uk" class="contact-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/></svg>
              <span>Email</span>
            </a>
            <a href="https://www.linkedin.com/in/haoyangwu4y" target="_blank" rel="noopener" title="LinkedIn" class="contact-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg>
              <span>LinkedIn</span>
            </a>
            <a href="https://github.com/wyatt4y" target="_blank" rel="noopener" title="GitHub" class="contact-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
              <span>GitHub</span>
            </a>
          </div>
        </div>
      </div>

      <div class="home-links">
        <a class="btn filled" id="btn-ask">Ask me anything</a>
      </div>
    </div>
  </div>
</section>

<!-- ══ EXPERIENCE ══ -->
<section class="page" id="experience">
  <div class="section-header">
    <h2 class="section-title">Experience</h2>
  </div>
  <div class="timeline">

    <div class="tl-item">
      <p class="tl-date">2025 — Present</p>
      <p class="tl-role">MPhil in Machine Learning and Machine Intelligence</p>
      <p class="tl-org">University of Cambridge, Wolfson College — Cambridge, UK</p>
      <div class="tl-tags">
      </div>
    </div>

    <div class="tl-item">
      <p class="tl-date">2023 — 2024</p>
      <p class="tl-role">MSc in Systems Engineering for the Internet of Things</p>
      <p class="tl-org">University College London — London, UK</p>
      <div class="tl-tags">
        <span class="tag">Distinction</span>
      </div>
    </div>

    <div class="tl-item">
      <p class="tl-date">2021 — 2023</p>
      <p class="tl-role">B.Sc. (Hons) in Computer Science</p>
      <p class="tl-org">University of Liverpool — Liverpool, UK</p>
      <div class="tl-tags">
        <span class="tag">First Class Honours</span>
      </div>
    </div>

    <div class="tl-item">
      <p class="tl-date">2019 — 2023</p>
      <p class="tl-role">B.Sc. (Hons) in Information and Computing Science</p>
      <p class="tl-org">Xi'an Jiaotong-Liverpool University — Suzhou, China</p>
      <div class="tl-tags">
        <span class="tag">First Class Honours</span>
      </div>
    </div>

  </div>
</section>

<!-- ══ ABOUT ME ══ -->
<section class="page" id="about">
  <div class="section-header">
    <p class="section-label">Get to know me</p>
    <h2 class="section-title">About Me</h2>
  </div>
  <div class="about-grid about-grid-single">

    <!-- Bot (full width) -->
    <div class="bot-wrap">
      <div class="bot-header">
        <h3>Ask Haoyang's AI</h3>
        <p>Powered by Claude · Answers questions about my background &amp; research</p>
      </div>

      <!-- API KEY INPUT -->
      <div class="api-key-section">
        <label>Anthropic API Key</label>
        <div class="api-key-row">
          <input type="password" id="api-key-input" placeholder="sk-ant-..." />
          <button id="save-key-btn">Set Key</button>
        </div>
        <p class="key-note">⚠ Key is stored in memory only, cleared on page refresh. Never share your key publicly.</p>
      </div>

      <!-- CHAT -->
      <div class="chat-box">
        <div class="chat-messages" id="chat-messages">
          <div class="msg system-msg"><div class="msg-content">Ask me anything about Haoyang.</div></div>
        </div>
        <div class="chat-input-wrap">
          <div class="chat-input-inner">
            <input type="text" id="chat-input" placeholder="Message Haoyang's AI..." />
            <button class="chat-send-btn" id="send-btn" disabled>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="19" x2="12" y2="5"/><polyline points="5 12 12 5 19 12"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Suggested Questions -->
      <div class="suggested-questions">
        <button class="sq" data-q="What skills do you have?">What skills do you have?</button>
        <button class="sq" data-q="What are your hobbies?">What are your hobbies?</button>
        <button class="sq" data-q="Tell me about your projects.">Tell me about your projects.</button>
      </div>
    </div>

  </div>
</section>

<footer>
  &copy; 2025 Haoyang Wu &nbsp;·&nbsp; Cambridge, UK
</footer>

<script>
  // ── PAGE NAVIGATION ──
  function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-links a').forEach(a => a.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.getElementById('nav-' + id).classList.add('active');
    window.scrollTo(0, 0);
  }

  document.getElementById('nav-logo').addEventListener('click', () => showPage('home'));
  document.getElementById('nav-home').addEventListener('click', () => showPage('home'));
  document.getElementById('nav-experience').addEventListener('click', () => showPage('experience'));
  document.getElementById('nav-about').addEventListener('click', () => showPage('about'));
  document.getElementById('btn-ask').addEventListener('click', () => showPage('about'));

  // ── API KEY ──
  let ANTHROPIC_KEY = '';

  document.getElementById('save-key-btn').addEventListener('click', () => {
    const val = document.getElementById('api-key-input').value.trim();
    if (!val.startsWith('sk-ant-')) {
      alert('Please enter a valid Anthropic API key (starts with sk-ant-)');
      return;
    }
    ANTHROPIC_KEY = val;
    document.getElementById('send-btn').disabled = false;
    document.getElementById('api-key-input').value = '••••••••••••••••';
    addMessage('system-msg', 'API key set. You can now chat!');
  });

  // ── CHAT ──
  const SYSTEM_PROMPT = `You are Haoyang Wu, speaking directly to visitors on your personal academic website. Always respond in the first person as if you are Haoyang himself. Never refer to yourself as an AI assistant or break character.
About you
You are an MPhil student in Machine Learning and Machine Intelligence (Human-Computer Interaction track) at the University of Cambridge, Wolfson College. You previously obtained an MSc with Distinction in Systems Engineering for the Internet of Things from University College London, and hold dual First Class Honours bachelor's degrees in Computer Science (University of Liverpool) and Information and Computing Science (Xi'an Jiaotong-Liverpool University, Suzhou, China).
Your research lies at the intersection of Human-Computer Interaction, multimodal AI, mixed reality, and intelligent IoT systems. You are particularly interested in context-aware AI agents and embodied intelligent systems that integrate perception, reasoning, and interaction in real-world environments.
Your projects
Talking Garments - A multi-agent conversational shopping system using LLMs and sensor data to create adaptive and interactive shopping experiences. You explored multimodal dialogue, environmental perception, and dynamic conversational structure for human-AI interaction.
PetMaster - An integrated IoT ecosystem for smart pet care combining wearable sensors, edge devices, and a mobile app. You led edge node design, multi-sensor integration, and real-time communication between devices and cloud services. It received the Best Entrepreneurial Spirit Award at the UCL Industry Showcase.
Your research themes
Human-Computer Interaction, Multimodal and embodied AI, Mixed Reality, Intelligent IoT and smart environments, Context-aware AI agents in everyday life.
Your personal interests
You enjoy playing the piano and drawing. You like competitive FPS games such as Overwatch and Apex Legends, and have recently been playing Delta Force. You often joke that your day has 26 hours, meaning you tend to go to sleep slightly later each day.
Guidelines
Always speak in first person as Haoyang. When asked about skills or hobbies, answer as Haoyang directly without redirecting
Keep responses concise and natural, like a real person talking
Do not use excessive bullet points, emoji, or formatted lists unless helpful
If unsure about something specific, say so honestly
Prioritise academic and research topics but engage warmly with personal questions.`;

  let conversationHistory = [];

  function escapeHtml(str) {
    return str.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br>');
  }

  function addMessage(role, text) {
    const container = document.getElementById('chat-messages');
    const typing = container.querySelector('.typing-indicator');
    if (typing) typing.remove();

    const div = document.createElement('div');
    div.className = `msg ${role}`;

    if (role === 'user') {
      div.innerHTML = `
        <div class="msg-avatar">You</div>
        <div class="msg-content">${escapeHtml(text)}</div>`;
    } else if (role === 'assistant') {
      div.innerHTML = `
        <div class="msg-avatar">HW</div>
        <div class="msg-content">${escapeHtml(text)}</div>`;
    } else {
      div.innerHTML = `<div class="msg-content">${escapeHtml(text)}</div>`;
    }

    container.appendChild(div);
    container.scrollTop = container.scrollHeight;
  }

  function showTyping() {
    const container = document.getElementById('chat-messages');
    const div = document.createElement('div');
    div.className = 'typing-indicator';
    div.innerHTML = `
      <div class="msg-avatar" style="width:28px;height:28px;border-radius:50%;background:var(--fg);color:var(--bg);display:flex;align-items:center;justify-content:center;font-family:'DM Mono',monospace;font-size:0.65rem;flex-shrink:0;">HW</div>
      <div class="typing-dots"><span></span><span></span><span></span></div>`;
    container.appendChild(div);
    container.scrollTop = container.scrollHeight;
  }

  async function sendMessage() {
    const input = document.getElementById('chat-input');
    const btn = document.getElementById('send-btn');
    const text = input.value.trim();
    if (!text || !ANTHROPIC_KEY) return;

    input.value = '';
    btn.disabled = true;

    addMessage('user', text);
    conversationHistory.push({ role: 'user', content: text });
    showTyping();

    try {
      const response = await fetch('https://api.anthropic.com/v1/messages', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'x-api-key': ANTHROPIC_KEY,
          'anthropic-version': '2023-06-01',
          'anthropic-dangerous-direct-browser-access': 'true'
        },
        body: JSON.stringify({
          model: 'claude-haiku-4-5-20251001',
          max_tokens: 512,
          system: SYSTEM_PROMPT,
          messages: conversationHistory
        })
      });

      const data = await response.json();

      if (data.error) {
        addMessage('system-msg', `Error: ${data.error.message}`);
        conversationHistory.pop();
      } else {
        const reply = data.content[0].text;
        addMessage('assistant', reply);
        conversationHistory.push({ role: 'assistant', content: reply });
      }
    } catch (err) {
      addMessage('system-msg', 'Network error. Check your API key and connection.');
      conversationHistory.pop();
    }

    btn.disabled = false;
    input.focus();
  }

  document.getElementById('send-btn').addEventListener('click', sendMessage);

  document.getElementById('chat-input').addEventListener('keydown', e => {
    if (e.key === 'Enter' && !e.shiftKey) sendMessage();
  });

  document.querySelectorAll('.sq').forEach(btn => {
    btn.addEventListener('click', () => {
      if (!ANTHROPIC_KEY) {
        alert('Please set your Anthropic API key first.');
        return;
      }
      document.getElementById('chat-input').value = btn.dataset.q;
      sendMessage();
    });
  });
</script>
</body>
</html>
